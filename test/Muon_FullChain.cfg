process TrackerValidation  = {

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"   

  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  source = PoolSource 
    {
      untracked vstring fileNames = {"file:./Muon.root"}
      untracked int32 maxEvents = -1
    }

  module o1 = PoolOutputModule { 
         untracked string fileName = "Muon_FullValidation.root"      
  }
                                                                                
  # DQM services
  service = DaqMonitorROOTBackEnd{ }

    service = RandomNumberGeneratorService
    {
     PSet moduleSeeds =
      {
          untracked uint32 g4SimHits = 9876
          untracked uint32 mix = 7697
      }
  }

  service = Timing{ }
  
  service = SimpleMemoryCheck{ }

  include "SimG4Core/Application/data/SimG4Object.cfi"
  replace g4SimHits.Generator.HepMCProductLabel = "source" 
		
  include "Validation/TrackerHits/data/trackerHitsValidation.cff"

  # Mixing Module
  include "SimGeneral/MixingModule/data/mix_none.cfi"

  # TRACKER digitization sequence
  include "SimTracker/Configuration/data/SimTracker.cff" 

  # TRACKER digis validation sequence
  include "Validation/TrackerDigis/data/trackerDigisValidation.cff"

  # TRACKER LocalReco sequence 
  include "RecoLocalTracker/Configuration/data/RecoLocalTracker.cff"       

  # TRACKER rechits validation sequence
  include "Validation/TrackerRecHits/data/trackerRecHitsValidation.cff"
 
  sequence simhits = {g4SimHits, trackerHitsValidation}	
  sequence digis = {trDigi, trackerDigisValidation}
  sequence rechits = {trackerlocalreco, trackerRecHitsValidation}


  path p1 = { simhits , mix , digis , rechits }

  endpath outpath = { o1 }

  }		
